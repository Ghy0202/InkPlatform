{% load static from static %}
<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>注册页面</title>
<link rel="shortcut icon" href="{%static 'dianmo.ico'%}">
<meta name="keywords" content="LightYear,光年,后台模板,后台管理系统,光年HTML模板">
<meta name="description" content="LightYear是一个基于Bootstrap v3.3.7的后台管理系统的HTML模板。">
<meta name="author" content="yinqi">
<link href="{% static 'WebPage/user/css/bootstrap.min.css' %}" rel="stylesheet">
<link href="{% static 'WebPage/user/css/materialdesignicons.min.css' %}" rel="stylesheet">
<link href="{% static 'WebPage/user/css/style.min.css' %}" rel="stylesheet">
<style>
body {
    display: -webkit-box;
    display: flex;
    -webkit-box-pack: center;
    justify-content: center;
    -webkit-box-align: center;
    align-items: center;
    height: 100%;
}
.login-box {
    display: table;
    table-layout: fixed;
    overflow: hidden;
    max-width: 700px;
}
.login-left {
    display: table-cell;
    position: relative;
    margin-bottom: 0;
    border-width: 0;
    padding: 45px;
}
.login-left .form-group:last-child {
    margin-bottom: 0px;
}
.login-right {
    display: table-cell;
    position: relative;
    margin-bottom: 0;
    border-width: 0;
    padding: 45px;
    width: 50%;
    max-width: 50%;
    background: #67b26f!important;
    background: -moz-linear-gradient(45deg,#67b26f 0,#4ca2cd 100%)!important;
    background: -webkit-linear-gradient(45deg,#67b26f 0,#4ca2cd 100%)!important;
    background: linear-gradient(45deg,#67b26f 0,#4ca2cd 100%)!important;
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#67b26f', endColorstr='#4ca2cd', GradientType=1 )!important;
}
.login-box .has-feedback.feedback-left .form-control {
    padding-left: 38px;
    padding-right: 12px;
}
.login-box .has-feedback.feedback-left .form-control-feedback {
    left: 0;
    right: auto;
    width: 38px;
    height: 38px;
    line-height: 38px;
    z-index: 4;
    color: #dcdcdc;
}
.login-box .has-feedback.feedback-left.row .form-control-feedback {
    left: 15px;
}
@media (max-width: 576px) {
  .login-right {
      display: none;
  }
}
</style>
</head>

<body style="background-image: url(https://pic1.zhimg.com/v2-e5427c1e9ad8aaad99d643e7bd7e927b_r.jpg?source=1940ef5c); background-size: cover;">
<div class="bg-translucent p-10">
  <div class="login-box bg-white clearfix">
    <div class="login-left">
      <form action="/user/register/" method="post" onsubmit=" return register();">
        {% csrf_token %}
        <div class="form-group has-feedback feedback-left">
          <input type="email" placeholder="请输入您的邮箱" class="form-control" name="username" id="username" />
          <span class="mdi mdi-account form-control-feedback" aria-hidden="true"></span>
        </div>
        <div class="form-group has-feedback feedback-left">
          <input type="password" placeholder="请输入密码" class="form-control" id="password" name="password" />
          <span class="mdi mdi-lock form-control-feedback" aria-hidden="true"></span>
        </div>
        <div class="form-group has-feedback feedback-left">
          <input type="password" placeholder="请确认密码" class="form-control" id="repassword" name="repassword" />
          <span class="mdi mdi-lock form-control-feedback" aria-hidden="true"></span>
        </div>
        <div class="form-group has-feedback feedback-left row">
<!--          <div class="col-xs-7">-->
<!--            <input type="text" name="captcha" class="form-control" placeholder="验证码">-->
<!--            <span class="mdi mdi-check-all form-control-feedback" aria-hidden="true"></span>-->
<!--          </div>-->
          <div class="col-xs-5">
<!--            <img src="images/captcha.png" class="pull-right" id="captcha" style="cursor: pointer;" onclick="this.src=this.src+'?d='+Math.random();" title="点击刷新" alt="captcha">-->
          </div>
        </div>
        <div class="form-group">
<!--          <label class="lyear-checkbox checkbox-primary m-t-10">-->
<!--            <input type="checkbox"><span>5天内自动登录</span>-->
<!--          </label>-->
        </div>
        <div class="form-group">
<!-- onclick="location.href='index.html'"-->
          <button class="btn btn-block btn-primary" type="submit">立即注册</button>
        </div>
      </form>
    </div>
    <div class="login-right">
<!--      <p><img src="images/logo.png" class="m-b-md m-t-xs" alt="logo"></p>-->
      <p class="text-white m-tb-15">点墨，用最凝练的语言，阐述你的心声。 </p>
      <p class="text-white">注册时请填写您的真实邮箱，以便后续使用顺利 </p>
      <p><br></br><br></br></p>
      <p class="text-white">Copyright © 2022 点墨 <a href="#">【业余炼丹小分队】</a>. All right reserved</p>
    </div>
  </div>
</div>
<script type="text/javascript" src="{% static 'WebPage/user/js/jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'WebPage/user/js/bootstrap.min.js' %}"></script>
<script type="text/javascript">
;
</script>
<script>
function isEmail(str){
  var reg=/^[a-zA-Z0-9_-]{6,}@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;
  return reg.test(str);

}
  function register(){
    var uname = $('#username').val();
    var pwd = $('password').val();
    var re_pwd = $('repassword').val();

    if(uname.length<6){
      $('#aSpan').text('邮箱长度不能小于6');
      alert('邮箱长度不能小于6');
      return false;
    }
    if(!isEmail(uname)){
      alert('邮箱格式错误');
      return false;
    }
    if(pwd.length<6){
      $('#aSpan').text('密码长度不能小于6');
      alert('密码长度不能小于6');
      return false;
    }
    if(re_pwd!=pwd){
      $('#aSpan').text('确认密码不一致');
      alert('确认密码不一致');
      return false;
    }
    return true;
  }
</script>
{% if messages %}
<script>
        {% for msg in messages %}
            alert('{{ msg.message }}');
        {% endfor %}
    </script>
{% endif %}

</body>
</html>